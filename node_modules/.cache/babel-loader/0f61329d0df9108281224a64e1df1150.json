{"ast":null,"code":"import _classCallCheck from \"D:\\\\Users\\\\skalokhe\\\\study\\\\ReactBlogApp\\\\ReactBlogApp\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\Users\\\\skalokhe\\\\study\\\\ReactBlogApp\\\\ReactBlogApp\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"D:\\\\Users\\\\skalokhe\\\\study\\\\ReactBlogApp\\\\ReactBlogApp\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:\\\\Users\\\\skalokhe\\\\study\\\\ReactBlogApp\\\\ReactBlogApp\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"D:\\\\Users\\\\skalokhe\\\\study\\\\ReactBlogApp\\\\ReactBlogApp\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"D:\\\\Users\\\\skalokhe\\\\study\\\\ReactBlogApp\\\\ReactBlogApp\\\\src\\\\App\\\\App.js\";\nimport React, { Component } from \"react\";\nimport { Redirect } from \"react-router-dom\";\nimport { checkUser, loadData } from \"../Server/fire\";\nimport Loader from \"react-loader-spinner\";\n\nvar App =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(App, _Component);\n\n  function App(props) {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(App).call(this, props));\n    console.log(\"in APP constructor\");\n    _this.viewmode = \"userdetails\";\n    _this.state = {\n      loading: true,\n      user: null,\n      exists: false\n    };\n    return _this;\n  }\n  /**\r\n   * When the App component mounts, we listen for any authentication\r\n   * state changes in Firebase.\r\n   * Once subscribed, the 'user' parameter will either be null\r\n   * (logged out) or an Object (logged in)\r\n   */\n\n\n  _createClass(App, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      checkUser(function (user) {\n        if (user) {\n          sessionStorage.setItem(\"authUser\", JSON.stringify(user));\n        } else {\n          sessionStorage.removeItem(\"authUser\");\n        }\n\n        _this2.setState({\n          user: user\n        });\n\n        if (user) {\n          console.log(\"Valid User.\");\n          loadData(function (e) {\n            _this2.setState({\n              exists: true,\n              loading: false\n            });\n          });\n        } else {\n          _this2.setState({\n            loading: false,\n            exists: false\n          });\n        }\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.state.loading === true) {\n        return React.createElement(\"center\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 56\n          },\n          __self: this\n        }, \" \", React.createElement(Loader, {\n          type: \"Rings\",\n          height: \"300\",\n          color: \"darkblue\",\n          width: \"300\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 58\n          },\n          __self: this\n        }), \" \");\n      } else {\n        if (this.state.user) {\n          //if user has logged in\n          if (this.state.exists) {\n            return React.createElement(Redirect, {\n              to: \"/blogs\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 65\n              },\n              __self: this\n            });\n          } else {\n            return React.createElement(\"center\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 68\n              },\n              __self: this\n            }, React.createElement(Loader, {\n              type: \"Rings\",\n              color: \"darkblue\",\n              height: \"300\",\n              width: \"300\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 69\n              },\n              __self: this\n            }));\n          }\n        } else {\n          return React.createElement(Redirect, {\n            to: \"/home\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 74\n            },\n            __self: this\n          });\n        }\n      }\n    }\n  }]);\n\n  return App;\n}(Component);\n\nexport default App;","map":{"version":3,"sources":["D:\\Users\\skalokhe\\study\\ReactBlogApp\\ReactBlogApp\\src\\App\\App.js"],"names":["React","Component","Redirect","checkUser","loadData","Loader","App","props","console","log","viewmode","state","loading","user","exists","sessionStorage","setItem","JSON","stringify","removeItem","setState","e"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,QAAT,QAAyB,kBAAzB;AACA,SAASC,SAAT,EAAoBC,QAApB,QAAoC,gBAApC;AAEA,OAAOC,MAAP,MAAmB,sBAAnB;;IACMC,G;;;;;AACF,eAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACf,6EAAMA,KAAN;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAY,oBAAZ;AACA,UAAKC,QAAL,GAAgB,aAAhB;AACA,UAAKC,KAAL,GAAa;AACTC,MAAAA,OAAO,EAAE,IADA;AAETC,MAAAA,IAAI,EAAE,IAFG;AAGTC,MAAAA,MAAM,EAAE;AAHC,KAAb;AAJe;AASlB;AAED;;;;;;;;;;wCAMoB;AAAA;;AAChBX,MAAAA,SAAS,CAAC,UAAAU,IAAI,EAAI;AACd,YAAIA,IAAJ,EAAU;AACNE,UAAAA,cAAc,CAACC,OAAf,CAAuB,UAAvB,EAAmCC,IAAI,CAACC,SAAL,CAAeL,IAAf,CAAnC;AACH,SAFD,MAEO;AACHE,UAAAA,cAAc,CAACI,UAAf,CAA0B,UAA1B;AACH;;AACD,QAAA,MAAI,CAACC,QAAL,CAAc;AACVP,UAAAA,IAAI,EAAJA;AADU,SAAd;;AAIA,YAAIA,IAAJ,EAAU;AACNL,UAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ;AAEAL,UAAAA,QAAQ,CAAC,UAAAiB,CAAC,EAAI;AACV,YAAA,MAAI,CAACD,QAAL,CAAc;AACVN,cAAAA,MAAM,EAAE,IADE;AAEVF,cAAAA,OAAO,EAAE;AAFC,aAAd;AAIH,WALO,CAAR;AAMH,SATD,MASO;AACH,UAAA,MAAI,CAACQ,QAAL,CAAc;AACVR,YAAAA,OAAO,EAAE,KADC;AAEVE,YAAAA,MAAM,EAAE;AAFE,WAAd;AAIH;AACJ,OAzBQ,CAAT;AA0BH;;;6BAEQ;AACL,UAAI,KAAKH,KAAL,CAAWC,OAAX,KAAuB,IAA3B,EAAiC;AAC7B,eACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACK,GADL,EAEI,oBAAC,MAAD;AAAQ,UAAA,IAAI,EAAC,OAAb;AAAqB,UAAA,MAAM,EAAC,KAA5B;AAAkC,UAAA,KAAK,EAAC,UAAxC;AAAmD,UAAA,KAAK,EAAC,KAAzD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAFJ,EAEsE,GAFtE,CADJ;AAMH,OAPD,MAOO;AACH,YAAI,KAAKD,KAAL,CAAWE,IAAf,EAAqB;AACjB;AACA,cAAI,KAAKF,KAAL,CAAWG,MAAf,EAAuB;AACnB,mBAAO,oBAAC,QAAD;AAAU,cAAA,EAAE,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAAP;AACH,WAFD,MAEO;AACH,mBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eACI,oBAAC,MAAD;AAAQ,cAAA,IAAI,EAAC,OAAb;AAAqB,cAAA,KAAK,EAAC,UAA3B;AAAsC,cAAA,MAAM,EAAC,KAA7C;AAAmD,cAAA,KAAK,EAAC,KAAzD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,CADJ;AAKH;AACJ,SAXD,MAWO;AACH,iBAAO,oBAAC,QAAD;AAAU,YAAA,EAAE,EAAC,OAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAP;AAEH;AACJ;AACJ;;;;EAxEab,S;;AA0ElB,eAAeK,GAAf","sourcesContent":["import React, { Component } from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { checkUser, loadData } from \"../Server/fire\";\r\n\r\nimport Loader from \"react-loader-spinner\";\r\nclass App extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        console.log(\"in APP constructor\");\r\n        this.viewmode = \"userdetails\";\r\n        this.state = {\r\n            loading: true,\r\n            user: null,\r\n            exists: false\r\n        };\r\n    }\r\n\r\n    /**\r\n     * When the App component mounts, we listen for any authentication\r\n     * state changes in Firebase.\r\n     * Once subscribed, the 'user' parameter will either be null\r\n     * (logged out) or an Object (logged in)\r\n     */\r\n    componentDidMount() {\r\n        checkUser(user => {\r\n            if (user) {\r\n                sessionStorage.setItem(\"authUser\", JSON.stringify(user));\r\n            } else {\r\n                sessionStorage.removeItem(\"authUser\");\r\n            }\r\n            this.setState({\r\n                user\r\n            });\r\n\r\n            if (user) {\r\n                console.log(\"Valid User.\");\r\n\r\n                loadData(e => {\r\n                    this.setState({\r\n                        exists: true,\r\n                        loading: false\r\n                    });\r\n                });\r\n            } else {\r\n                this.setState({\r\n                    loading: false,\r\n                    exists: false\r\n                });\r\n            }\r\n        });\r\n    }\r\n\r\n    render() {\r\n        if (this.state.loading === true) {\r\n            return (\r\n                <center>\r\n                    {\" \"}\r\n                    <Loader type=\"Rings\" height=\"300\" color=\"darkblue\" width=\"300\" />{\" \"}\r\n                </center>\r\n            );\r\n        } else {\r\n            if (this.state.user) {\r\n                //if user has logged in\r\n                if (this.state.exists) {\r\n                    return <Redirect to=\"/blogs\" />;\r\n                } else {\r\n                    return (\r\n                        <center>\r\n                            <Loader type=\"Rings\" color=\"darkblue\" height=\"300\" width=\"300\" />\r\n                        </center>\r\n                    );\r\n                }\r\n            } else {\r\n                return <Redirect to=\"/home\" />;\r\n\r\n            }\r\n        }\r\n    }\r\n}\r\nexport default App;\r\n"]},"metadata":{},"sourceType":"module"}