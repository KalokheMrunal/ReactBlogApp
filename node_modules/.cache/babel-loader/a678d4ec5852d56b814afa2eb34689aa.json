{"ast":null,"code":"import _classCallCheck from \"D:\\\\Users\\\\skalokhe\\\\study\\\\ReactBlogApp\\\\ReactBlogApp\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\Users\\\\skalokhe\\\\study\\\\ReactBlogApp\\\\ReactBlogApp\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"D:\\\\Users\\\\skalokhe\\\\study\\\\ReactBlogApp\\\\ReactBlogApp\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:\\\\Users\\\\skalokhe\\\\study\\\\ReactBlogApp\\\\ReactBlogApp\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"D:\\\\Users\\\\skalokhe\\\\study\\\\ReactBlogApp\\\\ReactBlogApp\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"D:\\\\Users\\\\skalokhe\\\\study\\\\ReactBlogApp\\\\ReactBlogApp\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"D:\\\\Users\\\\skalokhe\\\\study\\\\ReactBlogApp\\\\ReactBlogApp\\\\src\\\\Login\\\\ChangePassword.jsx\";\nimport React, { Component } from \"react\"; //import { Redirect } from \"react-router-dom\";\n\nimport ReactDOM from \"react-dom\";\nimport { Grid, Button, FormGroup, Col, ControlLabel, FormControl, Row } from \"react-bootstrap\";\nimport Header from \"../Header/Header1\"; //import image from '../Resources/img.jpg';\n// import logo from \"../Resources/logo.png\";\n\nimport \"./Login1.css\";\nimport { changePassword, forgotPassword } from \"../Server/fire\";\nimport Loader from \"react-loader-spinner\";\nvar admin = null;\n\nvar ChangePassword =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ChangePassword, _Component);\n\n  function ChangePassword(props) {\n    var _this;\n\n    _classCallCheck(this, ChangePassword);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ChangePassword).call(this, props));\n\n    _this.handleCPClick = function (e) {\n      e.preventDefault();\n      var currentvalue = ReactDOM.findDOMNode(_this.refs.refCurrentPassword).value;\n      var newvalue = ReactDOM.findDOMNode(_this.refs.refNewPassword).value;\n      var confirmvalue = ReactDOM.findDOMNode(_this.refs.refConfirmPassword).value;\n      currentvalue = currentvalue.trim();\n      newvalue = newvalue.trim();\n      confirmvalue = confirmvalue.trim();\n\n      if (currentvalue === \"\" || newvalue === \"\" || confirmvalue === \"\") {\n        _this.setState({\n          errorCode: \"missing\",\n          errorMessage: null\n        });\n      } else if (newvalue !== confirmvalue) {\n        _this.setState({\n          errorCode: \"not-matched\",\n          errorMessage: null\n        });\n      } else {\n        _this.setState({\n          errorCode: null,\n          errorMessage: null,\n          showProgress: true\n        });\n\n        var baseThis = _assertThisInitialized(_assertThisInitialized(_this));\n\n        changePassword(currentvalue, newvalue, function (success, data) {\n          if (success) {\n            // alert(\"Your password has been changed!\");\n            // admin = JSON.parse(sessionStorage.getItem(\"Admin\"));\n            // if (!admin) {\n            //   this.props.history.push(\"/\");\n            // } else {\n            _this.props.history.push(\"/blogs\"); // }\n\n\n            baseThis.setState({\n              errorCode: null,\n              errorMessage: null,\n              showProgress: false\n            });\n          } else {\n            baseThis.setState({\n              showProgress: false,\n              errorCode: data.code,\n              errorMessage: null\n            });\n          }\n        });\n      }\n    };\n\n    _this.viewFPLayout = function () {\n      _this.props.history.push(\"/forgotpassword\");\n    };\n\n    _this.handleFPClick = function (e) {\n      e.preventDefault();\n      var UserNamevalue1 = _this.state.fpuserName;\n      UserNamevalue1 = UserNamevalue1.trim();\n\n      if (UserNamevalue1 === \"\") {\n        alert(\"Please enter valid email address\");\n      } else {\n        forgotPassword(UserNamevalue1, function (success) {\n          if (success) {\n            alert(\"A mail has been sent to \" + UserNamevalue1 + \" Please check your mail account\");\n\n            _this.props.history.push(\"/login\");\n          } else {\n            alert(\"Couldn't send mail. Please check the email address that you have entered...\");\n          }\n        });\n      }\n    };\n\n    _this.setEmail = function (e) {\n      _this.setState({\n        fpuserName: e.target.value\n      });\n    };\n\n    _this.renderForgotPasswordComponent = function () {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184\n        },\n        __self: this\n      }, React.createElement(FormGroup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 185\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 186\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"text-left\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"registrationtext pt-lg-5 pt-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 188\n        },\n        __self: this\n      }, \"Forgot Password\")), React.createElement(\"div\", {\n        className: \"instructiontext text-left \",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192\n        },\n        __self: this\n      }, \"Please enter your email id. A verification link will be sent on your email. Click on this link to create a new password.\"))), React.createElement(FormGroup, {\n        bsSize: \"large\",\n        className: \"formpad\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 198\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 199\n        },\n        __self: this\n      }, React.createElement(FormControl, {\n        lg: \"12\",\n        className: \"txt_username\",\n        type: \"email\",\n        placeholder: \"Enter Valid Email Id\",\n        onChange: _this.setEmail,\n        value: _this.state.fpuserName,\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 200\n        },\n        __self: this\n      }))), React.createElement(FormGroup, {\n        bsSize: \"large\",\n        className: \"fphelp formpad\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 211\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 212\n        },\n        __self: this\n      }, React.createElement(ControlLabel, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 213\n        },\n        __self: this\n      }, \"The link will be sent on this Email Id\"))), React.createElement(FormGroup, {\n        className: \"formpad\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 216\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 217\n        },\n        __self: this\n      }, React.createElement(Button, {\n        type: \"submit\",\n        onClick: _this.handleFPClick,\n        className: \"btn btn-primary col-lg-12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 218\n        },\n        __self: this\n      }, \"SUBMIT\"))));\n    };\n\n    _this.renderChangePasswordComponent = function () {\n      return React.createElement(\"form\", {\n        onSubmit: _this.handleCPClick,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 233\n        },\n        __self: this\n      }, React.createElement(FormGroup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 234\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"text-left\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 235\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"registrationtext pt-lg-5 pt-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 236\n        },\n        __self: this\n      }, \"Change Password\"))), React.createElement(FormGroup, {\n        bsSize: \"large\",\n        className: \"formpad\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 239\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 240\n        },\n        __self: this\n      }, React.createElement(FormControl, {\n        lg: \"12\",\n        className: \"txt_username\",\n        type: \"password\",\n        ref: \"refCurrentPassword\",\n        minLength: \"6\",\n        placeholder: \"Current Password\",\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 241\n        },\n        __self: this\n      }))), React.createElement(FormGroup, {\n        bsSize: \"large\",\n        className: \"formpad\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 253\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 254\n        },\n        __self: this\n      }, React.createElement(FormControl, {\n        lg: \"12\",\n        className: \"txt_username\",\n        type: \"password\",\n        placeholder: \"New Password\",\n        ref: \"refNewPassword\",\n        minLength: \"6\",\n        value: _this.state.password,\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 255\n        },\n        __self: this\n      }))), React.createElement(FormGroup, {\n        bsSize: \"large\",\n        className: \"formpad\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 267\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 268\n        },\n        __self: this\n      }, React.createElement(FormControl, {\n        lg: \"12\",\n        className: \"txt_username\",\n        type: \"password\",\n        placeholder: \"Confirm Password\",\n        ref: \"refConfirmPassword\",\n        minLength: \"6\",\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 269\n        },\n        __self: this\n      }))), React.createElement(FormGroup, {\n        className: \"formpad\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 280\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 281\n        },\n        __self: this\n      }, React.createElement(Button, {\n        bsStyle: \"link\",\n        className: \"forgotpwdlink col-lg-12\",\n        onClick: _this.viewFPLayout,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 282\n        },\n        __self: this\n      }, \"Forgot Password?\"))), React.createElement(FormGroup, {\n        className: \"formpad\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 291\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 292\n        },\n        __self: this\n      }, React.createElement(Button, {\n        type: \"submit\",\n        className: \"btn btn-primary col-lg-12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 293\n        },\n        __self: this\n      }, \"SAVE\"))), React.createElement(FormGroup, {\n        className: \"formpad\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 298\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 299\n        },\n        __self: this\n      }, _this.renderError())));\n    };\n\n    _this.state = {\n      errorCode: null,\n      errorMessage: null,\n      showProgress: true\n    };\n    _this.renderError = _this.renderError.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(ChangePassword, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (this.props.location.pathname === \"/changepassword\") {\n        var user = JSON.parse(sessionStorage.getItem(\"authUser\"));\n\n        if (!user) {\n          console.log(\"not Valid User.\");\n          this.props.history.push(\"/login\");\n        } else {\n          console.log(\"Valid User.\");\n          this.setState({\n            showProgress: false\n          });\n        }\n      } else {\n        this.setState({\n          showProgress: false\n        });\n      }\n    }\n  }, {\n    key: \"renderError\",\n    value: function renderError() {\n      if (this.state.errorCode !== null) {\n        var errMsg = \"\";\n\n        switch (this.state.errorCode) {\n          case \"missing\":\n            errMsg = \"Credential missing\";\n            break;\n\n          case \"not-matched\":\n            errMsg = \"New Password should match Confirm Password\";\n            break;\n\n          case \"auth/invalid-email\":\n            errMsg = \"Invalid Email Id\";\n            break;\n\n          case \"auth/user-disabled\":\n            errMsg = \"Your account is disabled. Please contact system admin.\";\n            break;\n\n          case \"auth/password-mismatch\":\n            errMsg = \"New password does not match with re-enterd password.\";\n            break;\n\n          case \"auth/weak-password\":\n            errMsg = \"Password is weak\";\n            break;\n\n          case \"auth/wrong-password\":\n            errMsg = \"Wrong password\";\n            break;\n\n          case \"auth/wrong-cppassword\":\n            errMsg = \"Wrong current password\";\n            break;\n\n          case \"auth/user-not-found\":\n            errMsg = \"User not found\";\n            break;\n\n          default:\n            errMsg = \"check Internet connection\";\n            break;\n        }\n\n        return React.createElement(\"div\", {\n          id: \"error_msg\",\n          className: \"error_message\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 142\n          },\n          __self: this\n        }, errMsg);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.state.showProgress === true) {\n        return React.createElement(\"center\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 308\n          },\n          __self: this\n        }, React.createElement(Loader, {\n          type: \"Rings\",\n          color: \"darkblue\",\n          height: \"300\",\n          width: \"300\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 309\n          },\n          __self: this\n        }));\n      } else return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 314\n        },\n        __self: this\n      }, React.createElement(Header, {\n        history: this.props.history,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 315\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"loginmaincontainer containerHeight\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 316\n        },\n        __self: this\n      }, React.createElement(\"section\", {\n        className: \"loginComponent\",\n        style: {\n          height: \"100%\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 317\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"login offset-lg-2 offset-0\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 318\n        },\n        __self: this\n      }, React.createElement(Grid, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 319\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 320\n        },\n        __self: this\n      }, React.createElement(Col, {\n        xs: 12,\n        sm: 12,\n        md: 5,\n        lg: 3,\n        className: \"col-cls pr-lg-5 pl-lg-5\",\n        horizontal: \"true\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 321\n        },\n        __self: this\n      }, this.props.location.pathname === \"/changepassword\" ? this.renderChangePasswordComponent() : this.renderForgotPasswordComponent()), React.createElement(Col, {\n        xs: 12,\n        md: 7,\n        lg: 5,\n        className: \"login-img\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 333\n        },\n        __self: this\n      })))))));\n    }\n  }]);\n\n  return ChangePassword;\n}(Component);\n\nexport { ChangePassword as default };","map":{"version":3,"sources":["D:\\Users\\skalokhe\\study\\ReactBlogApp\\ReactBlogApp\\src\\Login\\ChangePassword.jsx"],"names":["React","Component","ReactDOM","Grid","Button","FormGroup","Col","ControlLabel","FormControl","Row","Header","changePassword","forgotPassword","Loader","admin","ChangePassword","props","handleCPClick","e","preventDefault","currentvalue","findDOMNode","refs","refCurrentPassword","value","newvalue","refNewPassword","confirmvalue","refConfirmPassword","trim","setState","errorCode","errorMessage","showProgress","baseThis","success","data","history","push","code","viewFPLayout","handleFPClick","UserNamevalue1","state","fpuserName","alert","setEmail","target","renderForgotPasswordComponent","renderChangePasswordComponent","password","renderError","bind","location","pathname","user","JSON","parse","sessionStorage","getItem","console","log","errMsg","height"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\n//import { Redirect } from \"react-router-dom\";\nimport ReactDOM from \"react-dom\";\nimport {\n  Grid,\n  Button,\n  FormGroup,\n  Col,\n  ControlLabel,\n  FormControl,\n  Row\n} from \"react-bootstrap\";\nimport Header from \"../Header/Header1\";\n//import image from '../Resources/img.jpg';\n// import logo from \"../Resources/logo.png\";\nimport \"./Login1.css\";\n\nimport { changePassword, forgotPassword } from \"../Server/fire\";\nimport Loader from \"react-loader-spinner\";\nvar admin = null;\nexport default class ChangePassword extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      errorCode: null,\n      errorMessage: null,\n      showProgress: true\n    };\n\n    this.renderError = this.renderError.bind(this);\n  }\n\n  componentDidMount() {\n    if (this.props.location.pathname === \"/changepassword\") {\n      var user = JSON.parse(sessionStorage.getItem(\"authUser\"));\n      if (!user) {\n        console.log(\"not Valid User.\");\n        this.props.history.push(\"/login\");\n      } else {\n        console.log(\"Valid User.\");\n        this.setState({\n          showProgress: false\n        });\n      }\n    } else {\n      this.setState({\n        showProgress: false\n      });\n    }\n  }\n\n  handleCPClick = e => {\n    e.preventDefault();\n    var currentvalue = ReactDOM.findDOMNode(this.refs.refCurrentPassword).value;\n    var newvalue = ReactDOM.findDOMNode(this.refs.refNewPassword).value;\n    var confirmvalue = ReactDOM.findDOMNode(this.refs.refConfirmPassword).value;\n    currentvalue = currentvalue.trim();\n    newvalue = newvalue.trim();\n    confirmvalue = confirmvalue.trim();\n    if (currentvalue === \"\" || newvalue === \"\" || confirmvalue === \"\") {\n      this.setState({\n        errorCode: \"missing\",\n        errorMessage: null\n      });\n    } else if (newvalue !== confirmvalue) {\n      this.setState({\n        errorCode: \"not-matched\",\n        errorMessage: null\n      });\n    } else {\n      this.setState({\n        errorCode: null,\n        errorMessage: null,\n        showProgress: true\n      });\n      let baseThis = this;\n\n      changePassword(currentvalue, newvalue, (success, data) => {\n        if (success) {\n          // alert(\"Your password has been changed!\");\n          // admin = JSON.parse(sessionStorage.getItem(\"Admin\"));\n          // if (!admin) {\n          //   this.props.history.push(\"/\");\n          // } else {\n\n          this.props.history.push(\"/blogs\");\n          // }\n          baseThis.setState({\n            errorCode: null,\n            errorMessage: null,\n            showProgress: false\n          });\n        } else {\n          baseThis.setState({\n            showProgress: false,\n            errorCode: data.code,\n            errorMessage: null\n          });\n        }\n      });\n    }\n  };\n\n  renderError() {\n    if (this.state.errorCode !== null) {\n      let errMsg = \"\";\n\n      switch (this.state.errorCode) {\n        case \"missing\":\n          errMsg = \"Credential missing\";\n          break;\n        case \"not-matched\":\n          errMsg = \"New Password should match Confirm Password\";\n          break;\n        case \"auth/invalid-email\":\n          errMsg = \"Invalid Email Id\";\n          break;\n        case \"auth/user-disabled\":\n          errMsg = \"Your account is disabled. Please contact system admin.\";\n          break;\n        case \"auth/password-mismatch\":\n          errMsg = \"New password does not match with re-enterd password.\";\n          break;\n        case \"auth/weak-password\":\n          errMsg = \"Password is weak\";\n          break;\n        case \"auth/wrong-password\":\n          errMsg = \"Wrong password\";\n          break;\n        case \"auth/wrong-cppassword\":\n          errMsg = \"Wrong current password\";\n          break;\n        case \"auth/user-not-found\":\n          errMsg = \"User not found\";\n          break;\n        default:\n          errMsg = \"check Internet connection\";\n          break;\n      }\n\n      return (\n        <div id=\"error_msg\" className=\"error_message\">\n          {errMsg}\n        </div>\n      );\n    }\n  }\n\n  viewFPLayout = () => {\n    this.props.history.push(\"/forgotpassword\");\n  };\n\n  handleFPClick = e => {\n    e.preventDefault();\n    var UserNamevalue1 = this.state.fpuserName;\n    UserNamevalue1 = UserNamevalue1.trim();\n    if (UserNamevalue1 === \"\") {\n      alert(\"Please enter valid email address\");\n    } else {\n      forgotPassword(UserNamevalue1, success => {\n        if (success) {\n          alert(\n            \"A mail has been sent to \" +\n            UserNamevalue1 +\n            \" Please check your mail account\"\n          );\n          this.props.history.push(\"/login\");\n        } else {\n          alert(\n            \"Couldn't send mail. Please check the email address that you have entered...\"\n          );\n        }\n      });\n    }\n  };\n\n  setEmail = e => {\n    this.setState({\n      fpuserName: e.target.value\n    });\n  };\n  renderForgotPasswordComponent = () => {\n    return (\n      <div>\n        <FormGroup>\n          <div>\n            <div className=\"text-left\">\n              <div className=\"registrationtext pt-lg-5 pt-3\">\n                Forgot Password\n              </div>\n            </div>\n            <div className=\"instructiontext text-left \">\n              Please enter your email id. A verification link will be sent on\n              your email. Click on this link to create a new password.\n            </div>\n          </div>\n        </FormGroup>\n        <FormGroup bsSize=\"large\" className=\"formpad\">\n          <Row>\n            <FormControl\n              lg=\"12\"\n              className=\"txt_username\"\n              type=\"email\"\n              placeholder=\"Enter Valid Email Id\"\n              onChange={this.setEmail}\n              value={this.state.fpuserName}\n              required\n            />\n          </Row>\n        </FormGroup>\n        <FormGroup bsSize=\"large\" className=\"fphelp formpad\">\n          <Row>\n            <ControlLabel>The link will be sent on this Email Id</ControlLabel>\n          </Row>\n        </FormGroup>\n        <FormGroup className=\"formpad\">\n          <Row>\n            <Button\n              type=\"submit\"\n              onClick={this.handleFPClick}\n              className=\"btn btn-primary col-lg-12\"\n            >\n              SUBMIT\n            </Button>\n          </Row>\n        </FormGroup>\n      </div>\n    );\n  };\n\n  renderChangePasswordComponent = () => {\n    return (\n      <form onSubmit={this.handleCPClick}>\n        <FormGroup>\n          <div className=\"text-left\">\n            <div className=\"registrationtext pt-lg-5 pt-3\">Change Password</div>\n          </div>\n        </FormGroup>\n        <FormGroup bsSize=\"large\" className=\"formpad\">\n          <Row>\n            <FormControl\n              lg=\"12\"\n              className=\"txt_username\"\n              type=\"password\"\n              ref=\"refCurrentPassword\"\n              minLength=\"6\"\n              placeholder=\"Current Password\"\n              required\n            />\n          </Row>\n        </FormGroup>\n\n        <FormGroup bsSize=\"large\" className=\"formpad\">\n          <Row>\n            <FormControl\n              lg=\"12\"\n              className=\"txt_username\"\n              type=\"password\"\n              placeholder=\"New Password\"\n              ref=\"refNewPassword\"\n              minLength=\"6\"\n              value={this.state.password}\n              required\n            />\n          </Row>\n        </FormGroup>\n        <FormGroup bsSize=\"large\" className=\"formpad\">\n          <Row>\n            <FormControl\n              lg=\"12\"\n              className=\"txt_username\"\n              type=\"password\"\n              placeholder=\"Confirm Password\"\n              ref=\"refConfirmPassword\"\n              minLength=\"6\"\n              required\n            />\n          </Row>\n        </FormGroup>\n        <FormGroup className=\"formpad\">\n          <Row>\n            <Button\n              bsStyle=\"link\"\n              className=\"forgotpwdlink col-lg-12\"\n              onClick={this.viewFPLayout}\n            >\n              Forgot Password?\n            </Button>\n          </Row>\n        </FormGroup>\n        <FormGroup className=\"formpad\">\n          <Row>\n            <Button type=\"submit\" className=\"btn btn-primary col-lg-12\">\n              SAVE\n            </Button>\n          </Row>\n        </FormGroup>\n        <FormGroup className=\"formpad\">\n          <Row>{this.renderError()}</Row>\n        </FormGroup>\n      </form>\n    );\n  };\n\n  render() {\n    if (this.state.showProgress === true) {\n      return (\n        <center>\n          <Loader type=\"Rings\" color=\"darkblue\" height=\"300\" width=\"300\" />\n        </center>\n      );\n    } else\n      return (\n        <div>\n          <Header history={this.props.history} />\n          <div className=\"loginmaincontainer containerHeight\">\n            <section className=\"loginComponent\" style={{ height: \"100%\" }}>\n              <div className=\"login offset-lg-2 offset-0\">\n                <Grid>\n                  <Row>\n                    <Col\n                      xs={12}\n                      sm={12}\n                      md={5}\n                      lg={3}\n                      className=\"col-cls pr-lg-5 pl-lg-5\"\n                      horizontal=\"true\"\n                    >\n                      {this.props.location.pathname === \"/changepassword\"\n                        ? this.renderChangePasswordComponent()\n                        : this.renderForgotPasswordComponent()}\n                    </Col>\n                    <Col xs={12} md={7} lg={5} className=\"login-img\" />\n                  </Row>\n                </Grid>\n              </div>\n            </section>\n          </div>\n        </div>\n      );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}