{"ast":null,"code":"import _classCallCheck from \"D:\\\\Users\\\\skalokhe\\\\study\\\\ReactBlogApp\\\\ReactBlogApp\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\Users\\\\skalokhe\\\\study\\\\ReactBlogApp\\\\ReactBlogApp\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"D:\\\\Users\\\\skalokhe\\\\study\\\\ReactBlogApp\\\\ReactBlogApp\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:\\\\Users\\\\skalokhe\\\\study\\\\ReactBlogApp\\\\ReactBlogApp\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"D:\\\\Users\\\\skalokhe\\\\study\\\\ReactBlogApp\\\\ReactBlogApp\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"D:\\\\Users\\\\skalokhe\\\\study\\\\ReactBlogApp\\\\ReactBlogApp\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"D:\\\\Users\\\\skalokhe\\\\study\\\\ReactBlogApp\\\\ReactBlogApp\\\\src\\\\Login\\\\Login1.jsx\";\nimport React, { Component } from \"react\"; //import { Redirect } from \"react-router-dom\";\n\nimport ReactDOM from \"react-dom\";\nimport { Grid, Button, FormGroup, Col, FormControl, Row } from \"react-bootstrap\";\nimport \"./Login1.css\";\nimport Header from \"../Header/Header2\";\nimport { login, emailVerificationLink, server } from \"../Server/fire\";\nimport Loader from \"react-loader-spinner\";\nvar adminRef = null;\n\nvar Login1 =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Login1, _Component);\n\n  function Login1(props) {\n    var _this;\n\n    _classCallCheck(this, Login1);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Login1).call(this, props));\n\n    _this.handleLoginClick = function (e) {\n      e.preventDefault();\n      var UserNamevalue = ReactDOM.findDOMNode(_this.refs.refUserName).value;\n      var Passwordvalue = ReactDOM.findDOMNode(_this.refs.refPassword).value;\n      UserNamevalue = UserNamevalue.trim();\n      Passwordvalue = Passwordvalue.trim();\n      var isValidUsername = null;\n\n      if (UserNamevalue === \"\") {\n        isValidUsername = \"error\";\n      }\n\n      var isValidPassword = null;\n\n      if (Passwordvalue === \"\") {\n        isValidPassword = \"error\";\n      }\n\n      if (isValidUsername != null || isValidPassword != null) {\n        _this.setState({\n          errorCode: \"missing\",\n          errorMessage: null,\n          isValidUsername: isValidUsername,\n          isValidPassword: isValidPassword\n        }, function () {\n          _this.renderError(UserNamevalue);\n        });\n      } else {\n        _this.setState({\n          errorCode: null,\n          errorMessage: null,\n          isValidUsername: null,\n          isValidPassword: null,\n          showProgress: true\n        });\n\n        var baseThis = _assertThisInitialized(_assertThisInitialized(_this));\n\n        login(UserNamevalue, Passwordvalue, function (success, data) {\n          if (success) {\n            var user = JSON.parse(sessionStorage.getItem(\"authUser\"));\n\n            var that = _assertThisInitialized(_assertThisInitialized(_this));\n\n            _this.props.history.push(\"/blogs\");\n\n            baseThis.setState({\n              errorCode: null,\n              errorMessage: null,\n              showProgress: false,\n              userName: UserNamevalue,\n              password: Passwordvalue\n            });\n          } else {\n            var link;\n            if (data.code === \"email-not-verified\") link = true;else link = false;\n            baseThis.setState({\n              showProgress: false,\n              errorCode: data.code,\n              errorMessage: null,\n              registerlink: link\n            }, function () {\n              _this.renderError(UserNamevalue);\n            });\n          }\n        });\n      }\n    };\n\n    _this.viewFPLayout = function () {\n      _this.props.history.push(\"/forgotpassword\");\n    };\n\n    _this.clearRegisterLink = function () {\n      emailVerificationLink();\n\n      _this.setState({\n        registerlink: false,\n        errorCode: null\n      });\n    };\n\n    _this.gotoRegister = function () {\n      _this.props.history.push(\"/registration\");\n    };\n\n    _this.renderLoginComponent = function () {\n      return React.createElement(\"form\", {\n        onSubmit: _this.handleLoginClick,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 188\n        },\n        __self: this\n      }, React.createElement(FormGroup, {\n        bsSize: \"large\",\n        className: \"formpad\",\n        controlId: \"formValidationError1\",\n        validationState: _this.state.isValidUsername,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 189\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195\n        },\n        __self: this\n      }, React.createElement(FormControl, {\n        lg: \"12\",\n        className: \"txt_username\",\n        type: \"email\",\n        ref: \"refUserName\",\n        placeholder: \"Email-id\",\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 196\n        },\n        __self: this\n      }))), React.createElement(FormGroup, {\n        bsSize: \"large\",\n        controlId: \"formValidationError2\",\n        className: \"formpad\",\n        validationState: _this.state.isValidPassword,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 207\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 213\n        },\n        __self: this\n      }, React.createElement(FormControl, {\n        lg: \"12\",\n        className: \"txt_username formpad\",\n        type: \"password\",\n        placeholder: \"Password\",\n        ref: \"refPassword\",\n        value: _this.state.password,\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 214\n        },\n        __self: this\n      }))), React.createElement(FormGroup, {\n        className: \"formpad\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 225\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 226\n        },\n        __self: this\n      }, React.createElement(Col, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 227\n        },\n        __self: this\n      }, React.createElement(Button, {\n        bsStyle: \"link\",\n        className: \"registerlink col-lg-12\",\n        onClick: _this.viewFPLayout,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 228\n        },\n        __self: this\n      }, \"Forgot Password?\")))), React.createElement(FormGroup, {\n        className: \"formpad\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 238\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 239\n        },\n        __self: this\n      }, React.createElement(Button, {\n        type: \"submit\",\n        className: \"btn btn-primary col-lg-12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 240\n        },\n        __self: this\n      }, \"SIGN IN\"))), React.createElement(FormGroup, {\n        className: \"formpad\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 245\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 246\n        },\n        __self: this\n      }, React.createElement(Button, {\n        bsStyle: \"link\",\n        className: \"registerlink col-lg-12\",\n        onClick: _this.gotoRegister,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 247\n        },\n        __self: this\n      }, \"New user? Register now\"))), _this.state.registerlink ? React.createElement(FormGroup, {\n        className: \"formpad\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 257\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 258\n        },\n        __self: this\n      }, React.createElement(Button, {\n        bsStyle: \"link\",\n        className: \"registerlink col-lg-12\",\n        onClick: _this.clearRegisterLink,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 259\n        },\n        __self: this\n      }, \"Resend Email Verification link\"))) : null);\n    };\n\n    _this.state = {\n      isValidUsername: null,\n      isValidPassword: null,\n      errorCode: null,\n      errorMessage: null,\n      showProgress: true,\n      userName: null,\n      password: null,\n      fpuserName: \"\",\n      changePassword: false,\n      registerlink: false\n    };\n    _this.renderError = _this.renderError.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(Login1, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var user = JSON.parse(sessionStorage.getItem(\"authUser\"));\n\n      if (user) {\n        //already logged in\n        console.log(\"Valid User.\");\n        this.props.history.push(\"/\");\n      } else {\n        console.log(\"not Valid User.\");\n        this.setState({\n          showProgress: false\n        });\n      }\n    }\n  }, {\n    key: \"renderError\",\n    value: function renderError(emailid) {\n      if (this.state.errorCode !== null) {\n        var errMsg = \"\";\n\n        switch (this.state.errorCode) {\n          case \"missing\":\n            errMsg = \"Please enter a valid email address and password to proceed.\";\n            break;\n\n          case \"auth/invalid-email\":\n            errMsg = \"Please enter a valid email address.\";\n            break;\n\n          case \"auth/user-disabled\":\n            errMsg = \"Your account is disabled. Please call us at +918007630379.\";\n            break;\n\n          case \"auth/password-mismatch\":\n            errMsg = \"New password does not match with re-entered password. Please try again.\";\n            break;\n\n          case \"auth/wrong-password\":\n            errMsg = \"The user id and password you entered did not match. Please try again.\";\n            break;\n\n          case \"auth/user-not-found\":\n            errMsg = \"This email address is not registered. Please verify that you have entered it correct. Please go to Register page to register a new address.\";\n            break;\n\n          case \"email-not-verified\":\n            errMsg = \"Your email address \" + emailid + \" needs to be verified. An email has just been sent to you. Please click on the link provided in the email to verify email address. \";\n            break;\n\n          default:\n            errMsg = \"There was a problem communicating with the server. Please try again later.\"; // msg change\n\n            break;\n        }\n\n        return alert(errMsg);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.state.showProgress === true) {\n        return React.createElement(\"center\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 276\n          },\n          __self: this\n        }, React.createElement(Loader, {\n          type: \"Rings\",\n          color: \"darkblue\",\n          height: \"300\",\n          width: \"300\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 277\n          },\n          __self: this\n        }));\n      } else {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 282\n          },\n          __self: this\n        }, React.createElement(Header, {\n          history: this.props.history,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 283\n          },\n          __self: this\n        }), React.createElement(\"div\", {\n          className: \"loginmaincontainer containerHeight\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 284\n          },\n          __self: this\n        }, React.createElement(\"section\", {\n          className: \"loginComponent\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 285\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"login offset-lg-2 offset-0\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 286\n          },\n          __self: this\n        }, React.createElement(Grid, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 287\n          },\n          __self: this\n        }, React.createElement(Row, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 288\n          },\n          __self: this\n        }, React.createElement(Col, {\n          xs: 12,\n          sm: 12,\n          md: 5,\n          lg: 3,\n          className: \"col-cls pr-lg-5 pl-lg-5\",\n          horizontal: \"true\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 289\n          },\n          __self: this\n        }, React.createElement(FormGroup, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 297\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 298\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"text-left\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 299\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"registrationtext pt-lg-5 pt-3\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 300\n          },\n          __self: this\n        }, \"LOGIN\")), React.createElement(\"div\", {\n          className: \"instructiontext text-left \",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 304\n          },\n          __self: this\n        }, \"Please sign in to access your account.\"))), this.renderLoginComponent()), React.createElement(Col, {\n          xs: 12,\n          md: 7,\n          lg: 5,\n          className: \"login-img\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 311\n          },\n          __self: this\n        })))))));\n      }\n    }\n  }]);\n\n  return Login1;\n}(Component);\n\nexport { Login1 as default };","map":{"version":3,"sources":["D:\\Users\\skalokhe\\study\\ReactBlogApp\\ReactBlogApp\\src\\Login\\Login1.jsx"],"names":["React","Component","ReactDOM","Grid","Button","FormGroup","Col","FormControl","Row","Header","login","emailVerificationLink","server","Loader","adminRef","Login1","props","handleLoginClick","e","preventDefault","UserNamevalue","findDOMNode","refs","refUserName","value","Passwordvalue","refPassword","trim","isValidUsername","isValidPassword","setState","errorCode","errorMessage","renderError","showProgress","baseThis","success","data","user","JSON","parse","sessionStorage","getItem","that","history","push","userName","password","link","code","registerlink","viewFPLayout","clearRegisterLink","gotoRegister","renderLoginComponent","state","fpuserName","changePassword","bind","console","log","emailid","errMsg","alert"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\n//import { Redirect } from \"react-router-dom\";\nimport ReactDOM from \"react-dom\";\nimport {\n  Grid,\n  Button,\n  FormGroup,\n  Col,\n  FormControl,\n  Row\n} from \"react-bootstrap\";\n\nimport \"./Login1.css\";\nimport Header from \"../Header/Header2\";\nimport { login, emailVerificationLink, server } from \"../Server/fire\";\nimport Loader from \"react-loader-spinner\";\nvar adminRef = null;\nexport default class Login1 extends Component {\n  constructor(props) {\n    super(props);\n\n\n    this.state = {\n      isValidUsername: null,\n      isValidPassword: null,\n      errorCode: null,\n      errorMessage: null,\n      showProgress: true,\n      userName: null,\n      password: null,\n      fpuserName: \"\",\n      changePassword: false,\n      registerlink: false\n    };\n    this.renderError = this.renderError.bind(this);\n  }\n\n  componentDidMount() {\n    var user = JSON.parse(sessionStorage.getItem(\"authUser\"));\n\n    if (user) {\n      //already logged in\n      console.log(\"Valid User.\");\n      this.props.history.push(\"/\");\n    } else {\n      console.log(\"not Valid User.\");\n      this.setState({\n        showProgress: false\n      });\n    }\n  }\n\n  handleLoginClick = e => {\n    e.preventDefault();\n\n    var UserNamevalue = ReactDOM.findDOMNode(this.refs.refUserName).value;\n    var Passwordvalue = ReactDOM.findDOMNode(this.refs.refPassword).value;\n    UserNamevalue = UserNamevalue.trim();\n    Passwordvalue = Passwordvalue.trim();\n\n    var isValidUsername = null;\n    if (UserNamevalue === \"\") {\n      isValidUsername = \"error\";\n    }\n\n    var isValidPassword = null;\n    if (Passwordvalue === \"\") {\n      isValidPassword = \"error\";\n    }\n\n    if (isValidUsername != null || isValidPassword != null) {\n      this.setState(\n        {\n          errorCode: \"missing\",\n          errorMessage: null,\n          isValidUsername: isValidUsername,\n          isValidPassword: isValidPassword\n        },\n        () => {\n          this.renderError(UserNamevalue);\n        }\n      );\n    } else {\n      this.setState({\n        errorCode: null,\n        errorMessage: null,\n        isValidUsername: null,\n        isValidPassword: null,\n        showProgress: true\n      });\n      let baseThis = this;\n      login(UserNamevalue, Passwordvalue, (success, data) => {\n        if (success) {\n          var user = JSON.parse(sessionStorage.getItem(\"authUser\"));\n\n          var that = this;\n\n          this.props.history.push(\"/blogs\");\n          baseThis.setState({\n            errorCode: null,\n            errorMessage: null,\n            showProgress: false,\n            userName: UserNamevalue,\n            password: Passwordvalue\n          });\n        } else {\n          var link;\n          if (data.code === \"email-not-verified\") link = true;\n          else link = false;\n          baseThis.setState(\n            {\n              showProgress: false,\n              errorCode: data.code,\n              errorMessage: null,\n              registerlink: link\n            },\n            () => {\n              this.renderError(UserNamevalue);\n            }\n          );\n        }\n      });\n    }\n  };\n\n  renderError(emailid) {\n    if (this.state.errorCode !== null) {\n      let errMsg = \"\";\n      switch (this.state.errorCode) {\n        case \"missing\":\n          errMsg =\n            \"Please enter a valid email address and password to proceed.\";\n          break;\n        case \"auth/invalid-email\":\n          errMsg = \"Please enter a valid email address.\";\n          break;\n        case \"auth/user-disabled\":\n          errMsg = \"Your account is disabled. Please call us at +918007630379.\";\n          break;\n        case \"auth/password-mismatch\":\n          errMsg =\n            \"New password does not match with re-entered password. Please try again.\";\n          break;\n        case \"auth/wrong-password\":\n          errMsg =\n            \"The user id and password you entered did not match. Please try again.\";\n          break;\n        case \"auth/user-not-found\":\n          errMsg =\n            \"This email address is not registered. Please verify that you have entered it correct. Please go to Register page to register a new address.\";\n          break;\n        case \"email-not-verified\":\n          errMsg =\n            \"Your email address \" +\n            emailid +\n            \" needs to be verified. An email has just been sent to you. Please click on the link provided in the email to verify email address. \";\n          break;\n        default:\n          errMsg =\n            \"There was a problem communicating with the server. Please try again later.\"; // msg change\n          break;\n      }\n\n      return (\n        alert(errMsg)\n      );\n    }\n  }\n\n  viewFPLayout = () => {\n    this.props.history.push(\"/forgotpassword\");\n  };\n\n  clearRegisterLink = () => {\n    emailVerificationLink();\n    this.setState({\n      registerlink: false,\n      errorCode: null\n    });\n  };\n\n  gotoRegister = () => {\n    this.props.history.push(\"/registration\");\n  };\n\n  renderLoginComponent = () => {\n    return (\n      <form onSubmit={this.handleLoginClick}>\n        <FormGroup\n          bsSize=\"large\"\n          className=\"formpad\"\n          controlId=\"formValidationError1\"\n          validationState={this.state.isValidUsername}\n        >\n          <Row>\n            <FormControl\n              lg=\"12\"\n              className=\"txt_username\"\n              type=\"email\"\n              ref=\"refUserName\"\n              placeholder=\"Email-id\"\n              required\n            />\n          </Row>\n        </FormGroup>\n\n        <FormGroup\n          bsSize=\"large\"\n          controlId=\"formValidationError2\"\n          className=\"formpad\"\n          validationState={this.state.isValidPassword}\n        >\n          <Row>\n            <FormControl\n              lg=\"12\"\n              className=\"txt_username formpad\"\n              type=\"password\"\n              placeholder=\"Password\"\n              ref=\"refPassword\"\n              value={this.state.password}\n              required\n            />\n          </Row>\n        </FormGroup>\n        <FormGroup className=\"formpad\">\n          <Row>\n            <Col>\n              <Button\n                bsStyle=\"link\"\n                className=\"registerlink col-lg-12\"\n                onClick={this.viewFPLayout}\n              >\n                Forgot Password?\n              </Button>\n            </Col>\n          </Row>\n        </FormGroup>\n        <FormGroup className=\"formpad\">\n          <Row>\n            <Button type=\"submit\" className=\"btn btn-primary col-lg-12\">\n              SIGN IN\n            </Button>\n          </Row>\n        </FormGroup>\n        <FormGroup className=\"formpad\">\n          <Row>\n            <Button\n              bsStyle=\"link\"\n              className=\"registerlink col-lg-12\"\n              onClick={this.gotoRegister}\n            >\n              New user? Register now\n            </Button>\n          </Row>\n        </FormGroup>\n        {this.state.registerlink ? (\n          <FormGroup className=\"formpad\">\n            <Row>\n              <Button\n                bsStyle=\"link\"\n                className=\"registerlink col-lg-12\"\n                onClick={this.clearRegisterLink}\n              >\n                Resend Email Verification link\n              </Button>\n            </Row>\n          </FormGroup>\n        ) : null}\n      </form>\n    );\n  };\n\n  render() {\n    if (this.state.showProgress === true) {\n      return (\n        <center>\n          <Loader type=\"Rings\" color=\"darkblue\" height=\"300\" width=\"300\" />\n        </center>\n      );\n    } else {\n      return (\n        <div>\n          <Header history={this.props.history} />\n          <div className=\"loginmaincontainer containerHeight\">\n            <section className=\"loginComponent\">\n              <div className=\"login offset-lg-2 offset-0\">\n                <Grid>\n                  <Row>\n                    <Col\n                      xs={12}\n                      sm={12}\n                      md={5}\n                      lg={3}\n                      className=\"col-cls pr-lg-5 pl-lg-5\"\n                      horizontal=\"true\"\n                    >\n                      <FormGroup>\n                        <div>\n                          <div className=\"text-left\">\n                            <div className=\"registrationtext pt-lg-5 pt-3\">\n                              LOGIN\n                            </div>\n                          </div>\n                          <div className=\"instructiontext text-left \">\n                            Please sign in to access your account.\n                          </div>\n                        </div>\n                      </FormGroup>\n                      {this.renderLoginComponent()}\n                    </Col>\n                    <Col xs={12} md={7} lg={5} className=\"login-img\" />\n                  </Row>\n                </Grid>\n              </div>\n            </section>\n          </div>\n        </div>\n      );\n    }\n  }\n}\n"]},"metadata":{},"sourceType":"module"}