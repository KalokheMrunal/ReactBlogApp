{"ast":null,"code":"import _classCallCheck from \"D:\\\\Users\\\\skalokhe\\\\study\\\\ReactBlogApp\\\\ReactBlogApp\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\Users\\\\skalokhe\\\\study\\\\ReactBlogApp\\\\ReactBlogApp\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"D:\\\\Users\\\\skalokhe\\\\study\\\\ReactBlogApp\\\\ReactBlogApp\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:\\\\Users\\\\skalokhe\\\\study\\\\ReactBlogApp\\\\ReactBlogApp\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"D:\\\\Users\\\\skalokhe\\\\study\\\\ReactBlogApp\\\\ReactBlogApp\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"D:\\\\Users\\\\skalokhe\\\\study\\\\ReactBlogApp\\\\ReactBlogApp\\\\src\\\\Components\\\\Blog\\\\Blog.js\";\nimport React, { Component } from \"react\";\nimport Header from \"../../Header/Header1\";\nimport _ from 'lodash';\nimport ReactQuill from 'react-quill';\nimport 'react-quill/dist/quill.snow.css';\nimport renderHTML from 'react-render-html';\nimport { database, server } from '../../Server/fire';\nimport \"./blog.css\";\n\nvar Blog =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Blog, _Component);\n\n  function Blog(props) {\n    var _this;\n\n    _classCallCheck(this, Blog);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Blog).call(this, props));\n\n    _this.sortpost = function () {\n      var keys = Object.keys(_this.state.posts);\n      var postSort = [];\n\n      for (var i = 0; i < keys.length; i++) {\n        postSort.push(_this.state.posts[keys[i]]);\n      }\n\n      console.log(\"before sort: \", postSort);\n      postSort.sort(function compare(a, b) {\n        var dateA = new Date(a.PostTime);\n        var dateB = new Date(b.PostTime);\n        return dateB - dateA;\n      });\n      var tempobj = {};\n\n      for (var _i = 0; _i < keys.length; _i++) {\n        tempobj[keys[_i]] = postSort[_i];\n      }\n\n      _this.setState({\n        posts: tempobj\n      });\n    };\n\n    _this.onHandleChange = function (e) {\n      _this.setState({\n        body: e\n      });\n\n      console.log(_this.state.body);\n    };\n\n    _this.onHandleSubmit = function (e) {\n      e.preventDefault();\n      var post = {\n        title: _this.state.title,\n        body: _this.state.body,\n        userName: _this.state.userName,\n        PostTime: new Date().toString()\n      };\n      database.push(post);\n\n      _this.setState({\n        title: '',\n        body: ''\n      });\n    };\n\n    _this.state = {\n      userName: '',\n      title: '',\n      body: '',\n      posts: {}\n    };\n    return _this;\n  } // lifecycle\n\n\n  _createClass(Blog, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      var _this2 = this;\n\n      var postobj = null;\n      database.on('value', function (snapshot) {\n        postobj = snapshot.val();\n\n        _this2.setState({\n          posts: snapshot.val()\n        }, function () {\n          console.log(\"Posts: \", _this2.state.posts);\n\n          _this2.sortpost();\n\n          var keys = Object.keys(_this2.state.posts);\n\n          for (var i = 0; i < keys.length; i++) {\n            console.log(\"posts: \", _this2.state.posts[keys[i]].PostTime);\n          }\n        });\n      });\n      var user = JSON.parse(sessionStorage.getItem(\"authUser\"));\n      var that = this;\n      server.database().ref(\"/RegisteredData\").child(user.uid).on(\"value\", function (snapshot) {\n        that.setState({\n          userName: snapshot.val().userName\n        });\n      });\n    }\n  }, {\n    key: \"renderPosts\",\n    value: function renderPosts() {\n      return _.map(this.state.posts, function (post, key) {\n        var date = new Date(post.PostTime).toLocaleDateString() + \" \" + new Date(post.PostTime).toLocaleTimeString();\n        return React.createElement(\"div\", {\n          key: key,\n          className: \"col-lg-9 col-sm-9 col-md-9 col-xs-9 postpaddingbottom\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 83\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"postinfo\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 85\n          },\n          __self: this\n        }, \"Title: \", post.title), React.createElement(\"div\", {\n          className: \"postinfo\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 86\n          },\n          __self: this\n        }, \"Posted By: \", post.userName), React.createElement(\"div\", {\n          className: \"postinfo infopadding\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 87\n          },\n          __self: this\n        }, \"Time: \", date), React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 88\n          },\n          __self: this\n        }, renderHTML(post.body)));\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      console.log(\"Post By: \", this.state.userName);\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }, React.createElement(Header, {\n        history: this.props.history,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"container containerpadding\",\n        id: \"blogContainer\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        onSubmit: this.onHandleSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        value: this.state.title,\n        type: \"text\",\n        name: \"title\",\n        placeholder: \"Title\",\n        onChange: function onChange(e) {\n          _this3.setState({\n            title: e.target.value\n          });\n        },\n        ref: \"title\",\n        className: \"form-control\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      }, React.createElement(ReactQuill, {\n        modules: Blog.modules,\n        formats: Blog.formats,\n        value: this.state.body,\n        placeholder: \"Body\",\n        onChange: this.onHandleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140\n        },\n        __self: this\n      })), React.createElement(\"button\", {\n        className: \"btn btn-primary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      }, \"Post\")), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151\n        },\n        __self: this\n      }), this.renderPosts()));\n    }\n  }]);\n\n  return Blog;\n}(Component);\n\nexport { Blog as default };\nBlog.modules = {\n  toolbar: [[{\n    header: '1'\n  }, {\n    header: '2'\n  }, {\n    font: []\n  }], [{\n    size: []\n  }], ['bold', 'italic', 'underline', 'blockquote'], [{\n    list: 'ordered'\n  }, {\n    list: 'bullet'\n  }], ['image', 'video'], ['clean'], ['code-block']]\n};\nBlog.formats = ['header', 'font', 'size', 'bold', 'italic', 'underline', 'strike', 'blockquote', 'list', 'bullet', 'link', 'image', 'video', 'code-block'];","map":{"version":3,"sources":["D:\\Users\\skalokhe\\study\\ReactBlogApp\\ReactBlogApp\\src\\Components\\Blog\\Blog.js"],"names":["React","Component","Header","_","ReactQuill","renderHTML","database","server","Blog","props","sortpost","keys","Object","state","posts","postSort","i","length","push","console","log","sort","compare","a","b","dateA","Date","PostTime","dateB","tempobj","setState","onHandleChange","e","body","onHandleSubmit","preventDefault","post","title","userName","toString","postobj","on","snapshot","val","user","JSON","parse","sessionStorage","getItem","that","ref","child","uid","map","key","date","toLocaleDateString","toLocaleTimeString","history","target","value","modules","formats","renderPosts","toolbar","header","font","size","list"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport Header from \"../../Header/Header1\";\r\nimport _ from 'lodash';\r\nimport ReactQuill from 'react-quill';\r\nimport 'react-quill/dist/quill.snow.css';\r\nimport renderHTML from 'react-render-html';\r\nimport { database, server } from '../../Server/fire';\r\nimport \"./blog.css\";\r\n\r\n\r\nexport default class Blog extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            userName: '',\r\n            title: '',\r\n            body: '',\r\n            posts: {},\r\n\r\n        };\r\n    }\r\n\r\n    // lifecycle\r\n    componentWillMount() {\r\n        var postobj = null;\r\n        database.on('value', snapshot => {\r\n            postobj = snapshot.val();\r\n            this.setState({\r\n                posts: snapshot.val()\r\n            }, () => {\r\n                console.log(\"Posts: \", this.state.posts)\r\n                this.sortpost();\r\n                var keys = Object.keys(this.state.posts)\r\n                for (let i = 0; i < keys.length; i++) {\r\n                    console.log(\"posts: \", this.state.posts[keys[i]].PostTime)\r\n                }\r\n            }\r\n            )\r\n\r\n        });\r\n\r\n\r\n        var user = JSON.parse(sessionStorage.getItem(\"authUser\"));\r\n        var that = this;\r\n        server\r\n            .database()\r\n            .ref(\"/RegisteredData\")\r\n            .child(user.uid)\r\n            .on(\"value\", function (snapshot) {\r\n                that.setState({\r\n                    userName: snapshot.val().userName\r\n                })\r\n            })\r\n\r\n    }\r\n\r\n    sortpost = () => {\r\n        var keys = Object.keys(this.state.posts)\r\n        var postSort = [];\r\n        for (let i = 0; i < keys.length; i++) {\r\n            postSort.push(this.state.posts[keys[i]])\r\n        }\r\n        console.log(\"before sort: \", postSort)\r\n        postSort.sort(function compare(a, b) {\r\n            var dateA = new Date(a.PostTime);\r\n            var dateB = new Date(b.PostTime);\r\n            return dateB - dateA\r\n        });\r\n        var tempobj = {};\r\n        for (let i = 0; i < keys.length; i++) {\r\n            tempobj[keys[i]] = postSort[i];\r\n        }\r\n        this.setState({\r\n            posts: tempobj\r\n        })\r\n    }\r\n\r\n    renderPosts() {\r\n        return _.map(this.state.posts, (post, key) => {\r\n            var date = new Date(post.PostTime).toLocaleDateString() + \" \" + new Date(post.PostTime).toLocaleTimeString()\r\n            return (\r\n                <div key={key} className=\"col-lg-9 col-sm-9 col-md-9 col-xs-9 postpaddingbottom\">\r\n\r\n                    <div className=\"postinfo\">Title: {post.title}</div>\r\n                    <div className=\"postinfo\">Posted By: {post.userName}</div>\r\n                    <div className=\"postinfo infopadding\">Time: {date}</div>\r\n                    <p>{renderHTML(post.body)}</p>\r\n                </div>\r\n            );\r\n        });\r\n    }\r\n\r\n    onHandleChange = (e) => {\r\n        this.setState({ body: e });\r\n        console.log(this.state.body);\r\n    }\r\n\r\n    onHandleSubmit = (e) => {\r\n\r\n        e.preventDefault();\r\n        const post = {\r\n            title: this.state.title,\r\n            body: this.state.body,\r\n            userName: this.state.userName,\r\n            PostTime: new Date().toString()\r\n        };\r\n        database.push(post);\r\n\r\n        this.setState({\r\n            title: '',\r\n            body: ''\r\n        });\r\n    }\r\n\r\n    render() {\r\n        console.log(\"Post By: \", this.state.userName)\r\n        return (\r\n            <div>\r\n\r\n                <Header history={this.props.history} />\r\n\r\n                <div className=\"container containerpadding\" id=\"blogContainer\">\r\n                    <form onSubmit={this.onHandleSubmit}>\r\n                        <div className=\"form-group\">\r\n                            <input\r\n                                value={this.state.title}\r\n                                type=\"text\"\r\n                                name=\"title\"\r\n                                placeholder=\"Title\"\r\n                                onChange={e => {\r\n                                    this.setState({ title: e.target.value });\r\n                                }}\r\n                                ref=\"title\"\r\n                                className=\"form-control\"\r\n\r\n                            />\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                            <ReactQuill\r\n                                modules={Blog.modules}\r\n                                formats={Blog.formats}\r\n                                value={this.state.body}\r\n                                placeholder=\"Body\"\r\n                                onChange={this.onHandleChange}\r\n\r\n                            />\r\n                        </div>\r\n                        <button className=\"btn btn-primary\">Post</button>\r\n                    </form>\r\n                    <br />\r\n                    {this.renderPosts()}\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nBlog.modules = {\r\n    toolbar: [\r\n        [{ header: '1' }, { header: '2' }, { font: [] }],\r\n        [{ size: [] }],\r\n        ['bold', 'italic', 'underline', 'blockquote'],\r\n        [{ list: 'ordered' }, { list: 'bullet' }],\r\n        ['image', 'video'],\r\n        ['clean'],\r\n        ['code-block']\r\n    ]\r\n};\r\n\r\nBlog.formats = [\r\n    'header',\r\n    'font',\r\n    'size',\r\n    'bold',\r\n    'italic',\r\n    'underline',\r\n    'strike',\r\n    'blockquote',\r\n    'list',\r\n    'bullet',\r\n    'link',\r\n    'image',\r\n    'video',\r\n    'code-block'\r\n];\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}